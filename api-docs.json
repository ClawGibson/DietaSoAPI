{
    "openapi": "3.0.0",
    "servers": [
        {
            "url": "http://localhost:3000/api/v1/",
            "description": "Servidor Local."
        }
    ],
    "paths": {
        "/usuarios/login": {
            "post": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Inicio de sesión para los usuarios.",
                "parameters": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LoginDto"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login success",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LoginSuccess"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario no registrado :c"
                    },
                    "401": {
                        "description": "Acceso no autorizado | Contraseña incorrecta"
                    }
                }
            }
        },
        "/usuarios/": {
            "get": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Muestra la información de todos los usuarios registrados.",
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Users"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "No se encontraron usuarios."
                    },
                    "401": {
                        "description": "Acceso no autorizado."
                    }
                },
                "security": [
                    {
                        "bearer": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Agrega un nuevo usuario.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateUserDto"
                            }
                        }
                    }
                },
                "responses": {
                    "400": {
                        "description": "No se pudo crear el usuario"
                    },
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserDto"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearer": []
                    }
                ]
            }
        },
        "/usuarios/individual": {
            "get": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Obtiene la información de un usuario.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "schema": {
                            "type": "string"
                        },
                        "required": true,
                        "description": "Id de usuario"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserDto"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Acceso no autorizado."
                    },
                    "500": {
                        "description": "Usuario no encontrado."
                    }
                },
                "security": [
                    {
                        "bearer": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Usuarios"
                ],
                "summary": "Actualiza la información de un usuario.",
                "security": [
                    {
                        "bearer": []
                    }
                ]
            }
        },
        "/usuarios/register": {
            "post": {
                "summary": "Registra un usuario.",
                "tags": [
                    "Usuarios"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RegisterUserDto"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserDto"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Acceso no autorizado."
                    },
                    "404": {
                        "description": "Ocurrio un problema al buscar el usuario."
                    },
                    "500": {
                        "description": "No se puedo agregar al usuario."
                    }
                }
            }
        },
        "alimentos/all": {
            "get": {
                "tags": [
                    "Alimentos"
                ],
                "summary": "Muestra la información de todos los alimentos registrados."
            }
        },
        "alimentos/:id": {
            "get": {
                "tags": [
                    "Alimentos"
                ],
                "summary": "Muestra la información de un alimiento."
            },
            "put": {
                "tags": [
                    "Alimentos"
                ],
                "summary": "Actualiza la información de un alimento."
            },
            "delete": {
                "tags": [
                    "Alimentos"
                ],
                "summary": "Elimina un alimento."
            }
        },
        "alimentos/": {
            "get": {
                "tags": [
                    "Alimentos"
                ],
                "summary": "Muestra la información de todos los alimentos registrados."
            },
            "post": {
                "tags": [
                    "Alimentos"
                ],
                "summary": "Agrega un nuevo alimento."
            }
        },
        "grupoAlimentos/": {
            "get": {
                "tags": [
                    "Grupo de Alimentos"
                ],
                "summary": "Muestra la información de todos los grupos de alimentos registrados."
            },
            "post": {
                "tags": [
                    "Grupo de Alimentos"
                ],
                "summary": "Agrega un nuevo grupo de alimentos."
            }
        },
        "grupoAlimentos/detalles": {
            "get": {
                "tags": [
                    "Grupo de Alimentos"
                ],
                "summary": "Muestra los detalles de todos los grupos de alimentos registrados."
            }
        },
        "grupoAlimentos/:id": {
            "get": {
                "tags": [
                    "Grupo de Alimentos"
                ],
                "summary": "Muestra la información de un grupo de alimientos."
            },
            "put": {
                "tags": [
                    "Grupo de Alimentos"
                ],
                "summary": "Actualiza la información de un grupo de alimentos."
            },
            "delete": {
                "tags": [
                    "Grupo de Alimentos"
                ],
                "summary": "Elimina un grupo de alimentos."
            }
        },
        "subGrupoAlimentos/": {
            "get": {
                "tags": [
                    "Sub Grupo de Alimentos"
                ],
                "summary": "Muestra la información de todos los sub grupos de alimentos registrados."
            },
            "post": {
                "tags": [
                    "Sub Grupo de Alimentos"
                ],
                "summary": "Agrega un nuevo sub grupo de alimentos."
            }
        },
        "subGrupoAlimentos/:id": {
            "get": {
                "tags": [
                    "Sub Grupo de Alimentos"
                ],
                "summary": "Muestra la información de sub un grupo de alimientos."
            },
            "put": {
                "tags": [
                    "Sub Grupo de Alimentos"
                ],
                "summary": "Actualiza la información de un sub grupo de alimentos."
            },
            "delete": {
                "tags": [
                    "Sub Grupo de Alimentos"
                ],
                "summary": "Elimina un sub grupo de alimentos."
            }
        },
        "recetas/": {
            "get": {
                "tags": [
                    "Recetas"
                ],
                "summary": "Muestra la información de todas las recetas registradas."
            },
            "post": {
                "tags": [
                    "Recetas"
                ],
                "summary": "Agrega una nueva receta."
            }
        },
        "recetas/:id": {
            "get": {
                "tags": [
                    "Recetas"
                ],
                "summary": "Muestra la información de una receta."
            },
            "put": {
                "tags": [
                    "Recetas"
                ],
                "summary": "Actualiza la información de una receta."
            },
            "delete": {
                "tags": [
                    "Recetas"
                ],
                "summary": "Elimina una receta."
            }
        },
        "menuBase/": {
            "get": {
                "tags": [
                    "Menu Base"
                ],
                "summary": "Muestra la información de todos los menu base registrados."
            },
            "post": {
                "tags": [
                    "Menu Base"
                ],
                "summary": "Agrega un nuevo menu base."
            }
        },
        "menuBase/:id": {
            "get": {
                "tags": [
                    "Menu Base"
                ],
                "summary": "Muestra la información de un menu base."
            },
            "put": {
                "tags": [
                    "Menu Base"
                ],
                "summary": "Actualiza la información de un menu base."
            },
            "delete": {
                "tags": [
                    "Menu Base"
                ],
                "summary": "Elimina una menu base."
            }
        },
        "logros/": {
            "get": {
                "tags": [
                    "Logros"
                ],
                "summary": "Muestra la información de todos los logros registrados."
            },
            "post": {
                "tags": [
                    "Logros"
                ],
                "summary": "Agrega un nuevo logro."
            }
        },
        "logros/:id": {
            "get": {
                "tags": [
                    "Logros"
                ],
                "summary": "Muestra la información de un logro."
            },
            "put": {
                "tags": [
                    "Logros"
                ],
                "summary": "Actualiza la información de un logro."
            },
            "delete": {
                "tags": [
                    "Logros"
                ],
                "summary": "Elimina un logro."
            }
        },
        "logrosDeUsuario/": {
            "get": {
                "tags": [
                    "Logros de Usuario"
                ],
                "summary": "Muestra la información de todos los logros de usuarios."
            },
            "post": {
                "tags": [
                    "Logros de Usuario"
                ],
                "summary": "Agrega un nuevo logro de usuario."
            }
        },
        "logrosDeUsuario/:id": {
            "get": {
                "tags": [
                    "Logros de Usuario"
                ],
                "summary": "Muestra la información de un logro de usuario."
            },
            "put": {
                "tags": [
                    "Logros de Usuario"
                ],
                "summary": "Actualiza la información de un logro de usuario."
            },
            "delete": {
                "tags": [
                    "Logros de Usuario"
                ],
                "summary": "Elimina un logro de usuario."
            }
        },
        "puntosDeUsuario/": {
            "get": {
                "tags": [
                    "Puntos de Usuario"
                ],
                "summary": "Muestra todos los puntos obtenidos por cada usuario."
            },
            "post": {
                "tags": [
                    "Puntos de Usuario"
                ],
                "summary": "Agrega puntos a un usuario."
            }
        },
        "puntosDeUsuario/:id": {
            "get": {
                "tags": [
                    "Puntos de Usuario"
                ],
                "summary": "Muestra los puntos de un usuario."
            },
            "put": {
                "tags": [
                    "Puntos de Usuario"
                ],
                "summary": "Actualiza los puntos de un usuario."
            }
        },
        "equivalencias/": {
            "get": {
                "tags": [
                    "Equivalencias"
                ],
                "summary": "Muestra la información de todas las equivalencias registradas."
            },
            "post": {
                "tags": [
                    "Equivalencias"
                ],
                "summary": "Agrega una nueva equivalencia."
            }
        },
        "equivalencias/:id": {
            "get": {
                "tags": [
                    "Equivalencias"
                ],
                "summary": "Muestra la información de una equivalencia."
            },
            "put": {
                "tags": [
                    "Equivalencias"
                ],
                "summary": "Actualiza la información de una equivalencia."
            },
            "delete": {
                "tags": [
                    "Equivalencias"
                ],
                "summary": "Elimina una equivalencia."
            }
        },
        "informacionUsuarios/": {
            "get": {
                "tags": [
                    "Información de usuarios"
                ],
                "summary": "Muestra la información de todos los usuarios registrados."
            }
        },
        "informacionUsuarios/:id": {
            "get": {
                "tags": [
                    "Información de usuarios"
                ],
                "summary": "Muestra la información especifica de un usuario."
            },
            "post": {
                "tags": [
                    "Información de usuarios"
                ],
                "summary": "Agrega nueva información a un usuario."
            },
            "patch": {
                "tags": [
                    "Información de usuarios"
                ],
                "summary": "Actualiza la información de un usuario."
            }
        },
        "datosUsuarios/": {
            "get": {
                "tags": [
                    "Datos de usuarios"
                ],
                "summary": "Muestra los datos de todos los usuarios."
            }
        },
        "datosUsuarios/:id": {
            "get": {
                "tags": [
                    "Datos de usuarios"
                ],
                "summary": "Muestra los datos de un usuario."
            },
            "post": {
                "tags": [
                    "Datos de usuarios"
                ],
                "summary": "Agrega nuevos datos a un usuario."
            },
            "patch": {
                "tags": [
                    "Datos de usuarios"
                ],
                "summary": "Actualiza los datos de un usuario."
            }
        },
        "historialClinico/": {
            "get": {
                "tags": [
                    "Historial clinico"
                ],
                "summary": "Muestra una lista de todos los historiales clinicos almacenados en el sistema."
            }
        },
        "historialClinico/:id": {
            "get": {
                "tags": [
                    "Historial clinico"
                ],
                "summary": "Muestra los datos de un historial clinico."
            },
            "post": {
                "tags": [
                    "Historial clinico"
                ],
                "summary": "Agrega un nuevo historial clinico."
            },
            "patch": {
                "tags": [
                    "Historial clinico"
                ],
                "summary": "Actualiza los datos de un historial clinico"
            }
        },
        "datosSocioeconomicos/": {
            "get": {
                "tags": [
                    "Datos Socioeconomicos"
                ],
                "summary": "Muestra una lista de todos los datos socio economicos almacenados en el sistema."
            }
        },
        "datosSocioeconomicos/:id": {
            "get": {
                "tags": [
                    "Datos Socioeconomicos"
                ],
                "summary": "Muestra los datos socioeconomicos de un usuario."
            },
            "post": {
                "tags": [
                    "Datos Socioeconomicos"
                ],
                "summary": "Agrega un nuevos datos socoeconomicos a un usuario."
            },
            "patch": {
                "tags": [
                    "Datos Socioeconomicos"
                ],
                "summary": "Actualiza los datos socioeconomicos de un usuario."
            }
        },
        "alimentacionUsuarios/": {
            "get": {
                "tags": [
                    "Alimentación de Usuarios"
                ],
                "summary": "Muestra una lista de todos los tipos de alimentación de usuarios."
            }
        },
        "alimentacionUsuarios/:id": {
            "get": {
                "tags": [
                    "Alimentación de Usuarios"
                ],
                "summary": "Muestra los datos de un tipo de alimetación de un usuario."
            },
            "post": {
                "tags": [
                    "Alimentación de Usuarios"
                ],
                "summary": "Agrega un nuevo tipo de alimentación a un usuario."
            },
            "patch": {
                "tags": [
                    "Alimentación de Usuarios"
                ],
                "summary": "Actualiza los datos de un tipo de alimentación de un usuario."
            }
        },
        "estadisticasIMC/": {
            "get": {
                "tags": [
                    "Estadisticas IMC"
                ],
                "summary": "Agrega una descripción."
            },
            "post": {
                "tags": [
                    "Estadisticas IMC"
                ],
                "summary": "Agrega una descripción."
            }
        },
        "estaisticasIMC/:id": {
            "get": {
                "tags": [
                    "Estadisticas IMC"
                ],
                "summary": "Agrega una descripción."
            },
            "patch": {
                "tags": [
                    "Estadisticas IMC"
                ],
                "summary": "Agrega una descripción."
            }
        },
        "estadisticasNiveles/": {
            "get": {
                "tags": [
                    "Estadisticas Niveles"
                ],
                "summary": "Agrega una descripción."
            },
            "post": {
                "tags": [
                    "Estadisticas Niveles"
                ],
                "summary": "Agrega una descripción."
            }
        },
        "estaisticasNiveles/:id": {
            "get": {
                "tags": [
                    "Estadisticas Niveles"
                ],
                "summary": "Agrega una descripción."
            }
        },
        "estadisticasPresion/": {
            "get": {
                "tags": [
                    "Estadisticas Presión"
                ],
                "summary": "Agrega una descripción."
            },
            "post": {
                "tags": [
                    "Estadisticas Presión"
                ],
                "summary": "Agrega una descripción."
            }
        },
        "estaisticasPresion/:id": {
            "get": {
                "tags": [
                    "Estadisticas Presión"
                ],
                "summary": "Agrega una descripción."
            }
        },
        "registroDietetico/": {
            "get": {
                "tags": [
                    "Registro Dietetico"
                ],
                "summary": "Agrega una descripción."
            },
            "post": {
                "tags": [
                    "Registro Dietetico"
                ],
                "summary": "Agrega una descripción."
            }
        },
        "registroDietetico/details": {
            "get": {
                "tags": [
                    "Registro Dietetico"
                ],
                "summary": "Agrega una descripción."
            }
        },
        "registroDietetico/agregarAlimento/": {
            "patch": {
                "tags": [
                    "Registro Dietetico"
                ],
                "summary": "Agrega una descripción."
            }
        },
        "registroDietetico/modificarAlimento": {
            "patch": {
                "tags": [
                    "Registro Dietetico"
                ],
                "summary": "Agrega una descripción."
            }
        }
    },
    "info": {
        "title": "API REST DietaSo.",
        "description": "Api Rest enfocada para el area de nutriologia.",
        "version": "1.0",
        "contact": {}
    },
    "tags": [],
    "components": {
        "securitySchemes": {
            "bearer": {
                "scheme": "bearer",
                "bearerFormat": "JWT",
                "type": "http"
            }
        },
        "schemas": {
            "UnauthorizedException": {},
            "LoginDto": {
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "contrasena": {
                        "type": "string"
                    }
                },
                "required": [
                    "usernameOrEmail",
                    "password"
                ]
            },
            "LoginSuccess": {
                "type": "object",
                "properties": {
                    "usuario": {
                        "type": "string",
                        "format": "email"
                    },
                    "token": {
                        "type": "string",
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
                    }
                }
            },
            "CreateUserDto": {
                "type": "object",
                "properties": {
                    "usuario": {
                        "type": "string"
                    },
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "contrasena": {
                        "type": "string"
                    }
                }
            },
            "RegisterUserDto": {
                "type": "object",
                "properties": {
                    "usuario": {
                        "type": "string"
                    },
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "contrasena": {
                        "type": "string"
                    },
                    "esAdmin": {
                        "type": "boolean"
                    }
                }
            },
            "UserDto": {
                "type": "object",
                "properties": {
                    "_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "esAdmin": {
                        "type": "boolean"
                    },
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "logros": {
                        "type": "string"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "_v": {
                        "type": "number"
                    }
                }
            },
            "Users": {
                "type": "array",
                "items": {
                    "$ref": "#/components/schemas/UserDto"
                }
            },
            "RoleDto": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    }
                },
                "required": [
                    "name",
                    "description"
                ]
            },
            "ResourceDto": {
                "type": "object",
                "properties": {
                    "id_role": {
                        "type": "number"
                    },
                    "url": {
                        "type": "string",
                        "example": "/module/resoure"
                    },
                    "read": {
                        "type": "string",
                        "enum": [
                            "none",
                            "own",
                            "any"
                        ]
                    },
                    "create": {
                        "type": "string",
                        "enum": [
                            "none",
                            "own",
                            "any"
                        ]
                    },
                    "update": {
                        "type": "string",
                        "enum": [
                            "none",
                            "own",
                            "any"
                        ]
                    },
                    "delete": {
                        "type": "string",
                        "enum": [
                            "none",
                            "own",
                            "any"
                        ]
                    }
                },
                "required": [
                    "id_role",
                    "url",
                    "read",
                    "create",
                    "update",
                    "delete"
                ]
            }
        }
    }
}